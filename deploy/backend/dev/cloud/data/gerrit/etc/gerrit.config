[gerrit]
	basePath = git
	canonicalWebUrl = http://10.240.225.34:8081
	serverId = 7244f16e-8656-4158-a92b-0060230f7f04

[container]
	javaOptions = "-Dflogger.backend_factory=com.google.common.flogger.backend.log4j.Log4jBackendFactory#getInstance"
	javaOptions = "-Dflogger.logging_context=com.google.gerrit.server.logging.LoggingContext#getInstance"
	user = gerrit
	javaHome = /usr/lib/jvm/java-21-openjdk-21.0.9.0.10-1.el9.alma.1.x86_64
	javaOptions = -Djava.security.egd=file:/dev/./urandom
	javaOptions = --add-opens java.base/java.net=ALL-UNNAMED
	javaOptions = --add-opens java.base/java.lang.invoke=ALL-UNNAMED

[index]
	type = lucene

[auth]
	type = LDAP

# 关键：根据实际 LDAP 结构配置
[ldap]
	server = ldap://ldap
	username = cn=admin,dc=jiqid,dc=com
	password = secret

	# 用户搜索基础：从根目录搜索
    accountBase = ou=users,dc=jiqid,dc=com

	# 用户搜索模式：使用 uid 字段
	accountPattern = (uid=${username})

	# 用户全名字段
	accountFullName = cn

	# 用户邮箱字段
	accountEmailAddress = mail

	# SSH 用户名字段
	accountSshUserName = uid

[receive]
	enableSignedPush = false

[sendemail]
	smtpServer = localhost

[sshd]
	listenAddress = *:29418

[httpd]
	listenUrl = http://*:8080/

[cache]
	directory = cache

[groups]
    Administrators = guhua@jiqid.com